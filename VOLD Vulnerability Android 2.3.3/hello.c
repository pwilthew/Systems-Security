#include <stdio.h>
#include <dlfcn.h>
#include <stdlib.h>

static void *find_system()
{
  char *system = "system";
  void *r = NULL;
  void *dlh = dlopen("/system/libc/libc.so", RTLD_NOW);

  if (!dlh)
    exit(0);
  if ((r = (void *)dlsym(dlh, system)) == NULL)
    exit(0);
  dlclose(dlh);
  return r;
}

int main(int argc, char **argv, char **env)
{
	printf("Hello NDK!\n");
	printf("%p", find_system());
	return 0;
}
